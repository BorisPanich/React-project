{"version":3,"sources":["components/Profile/MyPost/Post/Post.module.css","components/Navbar/Navbar.module.css","components/Dialogs/Dialogs.module.css","components/Navbar/Navbar.tsx","components/Settings/Settings.tsx","components/Music/Music.tsx","components/News/News.tsx","components/Sidebar/Sidebar.tsx","components/Dialogs/DialogItem/DialogsItem.tsx","components/Dialogs/Message/Message.tsx","components/Dialogs/Dialogs.tsx","redux/dialogsReducer.tsx","hoc/withAuthRedirect.tsx","components/Dialogs/DialogsContainer.tsx","components/api/API.tsx","redux/usersReducer.tsx","components/Users/Users.tsx","assets/images/photo.png","assets/images/explosionPreloader.gif","components/common/Preloader/Preloader.tsx","components/Users/UsersContainer.tsx","components/Profile/ProfileInfo/ProfileStatus.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/MyPost/Post/Post.tsx","components/Profile/MyPost/MyPost.tsx","redux/profileReducer.tsx","components/Profile/MyPost/MyPostContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Header/Header.tsx","redux/authReducer.tsx","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","App.tsx","redux/sidebarReducer.tsx","redux/redux-store.ts","index.tsx","components/Users/users.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPost/MyPost.module.css","components/Header/Header.module.css"],"names":["module","exports","Navbar","className","s","nav","item","to","activeClassName","activeLink","active","Settings","Music","News","Sidebar","DialogsItem","props","path","id","dialog","src","name","Message","message","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","messageInput","Field","component","placeholder","Dialogs","lockalState","dialogsPage","dialogsElement","dialogs","map","d","messagesElement","messages","m","dialogsItem","addMessage","data","addMessageText","newMessageText","ADD_MESSAGE_TEXT","initialState","dialogsReducer","state","action","type","newMassage","mapStatePropsForRediret","isAuth","auth","withAuthRedirect","Component","connect","restProps","compose","mapDispatchToProps","dispatch","newMText","instance","axios","create","withCredentials","baseURL","headers","authAPI","get","usersAPI","currentPage","pageSize","then","response","delete","post","profileAPI","userId","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROCESS","users","totalUsersCount","isFetching","followingInProcess","toggleIsFetching","toggleIsFollowingProcess","usersReducer","u","followed","filter","Users","pagesCount","Math","ceil","pages","i","push","p","styles","selectedPage","onClick","onPageChanged","photos","small","usersPhoto","disabled","some","unfollow","follow","status","Preloader","explosionPreloader","UsersContainer","pageNumber","getUsers","this","React","usersPage","resultCode","followSuccess","unfollowSuccess","setCurrentPage","items","totalCount","ProfileStatus","editMode","activateEditMode","setState","onStatusChange","e","currentTarget","value","prevProps","prevState","snapshot","autoFocus","onBlur","deactivateEditMode","bind","onChange","onDoubleClick","ProfileInfo","profile","photoFullName","fullName","avaDiscr","Post","likes","AddPostFormRedux","MyPost","postsElement","profilePage","posts","myPost","addPost","newPostText","ADD_POST","SET_USER_PROFILE","SET_STATUS","aboutMe","contacts","facebook","website","vk","twitter","instagram","youtube","github","mainLink","lookingForAJob","lookingForAJobDescription","large","setStatus","profileReducer","newPost","Date","getTime","MyPostContainer","addPostAC","Profile","ProfileContainer","match","params","getUsersProfile","getStatus","withRouter","Header","header","loginBlock","login","SET_DATA_AUTH_STATE","dataUser","authReducer","HeaderContainer","getAuthUserDataTh","LoginReduxForm","Login","formData","App","render","DialogsContainer","sidebarReducer","reducers","combineReducers","sidebar","formReducer","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.2c72a071.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__j5tR5\",\"active\":\"Post_active__28tVH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3jYak\",\"item\":\"Navbar_item__17sir\",\"activeLink\":\"Navbar_activeLink__3FFjf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3qMN3\",\"dialogsItem\":\"Dialogs_dialogsItem__2pmF6\",\"active\":\"Dialogs_active__3vNFF\",\"messages\":\"Dialogs_messages__1rGdZ\",\"addMessage\":\"Dialogs_addMessage__NU5qO\",\"messageInput\":\"Dialogs_messageInput__19c2e\",\"item\":\"Dialogs_item__FnzGu\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Navbar.module.css';\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to='/profile' activeClassName={s.activeLink} >Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/dialogs' activeClassName={s.activeLink} >Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/users' activeClassName={s.activeLink} >Users</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to='/news' activeClassName={s.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/music' activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/settings' activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/sidebar' activeClassName={s.activeLink}>Sidebar</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\n\r\nexport const Settings = () => {\r\n    return (\r\n        <div>\r\n            Here is Settings\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\nexport const Music = () => {\r\n    return (\r\n        <div>\r\n            Music World\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\nexport const News = () => {\r\n    return (\r\n        <div>\r\n            News World\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React from 'react';\r\n\r\nexport const Sidebar = () => {\r\n    return (\r\n        <div>\r\n\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './../Dialogs.module.css';\r\nimport {DialogType} from \"../../../redux/redux-store\";\r\n\r\nconst DialogsItem: React.FC<DialogType> = (props) => {\r\n    let path = '/dialogs/' + props.id\r\n\r\n    return (\r\n        <div className={s.dialog + ' ' + s.active}>\r\n            <NavLink to={path}>\r\n                <span className={s.item}>\r\n                    <img src='https://avatarfiles.alphacoders.com/163/thumb-1920-163398.jpg'/>\r\n                    {props.name}\r\n                </span>\r\n            </NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogsItem;","import React from \"react\";\r\nimport s from './../Dialogs.module.css';\r\nimport {MessageType} from \"../../../redux/redux-store\";\r\n\r\nconst Message: React.FC<MessageType> = (props) => {\r\n    return <div>\r\n        <div className={s.message}>\r\n            {props.message}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Message;","import React from \"react\";\r\nimport s from './Dialogs.module.css';\r\nimport DialogsItem from \"./DialogItem/DialogsItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {DialogsPropsType} from \"./DialogsContainer\";\r\nimport {InjectedFormProps, Field, reduxForm} from \"redux-form\";\r\n\r\n\r\ntype FormDataType = {\r\n    newMessageText: any     //!!!!!!!!!!!!!!!\r\n}\r\n\r\nconst Dialogs = (props: DialogsPropsType) => {\r\n    let lockalState = props.dialogsPage\r\n\r\n    let dialogsElement = lockalState.dialogs.map((d) => <DialogsItem id={d.id} name={d.name}/>)\r\n    let messagesElement = lockalState.messages.map((m) => <Message message={m.message}/>)\r\n    // let newMessageText = lockalState.newMessageText\r\n\r\n    // const onClickAddMessage = () => {\r\n    //     props.addMessageText(newMessageText)\r\n    // }\r\n    //\r\n    // const onChangeMessage = (e: ChangeEvent<HTMLTextAreaElement>) => {\r\n    //     let newMText = e.currentTarget.value\r\n    //     props.updateNewMessageText(newMText)\r\n    // }\r\n    const addNewMessage = (data: FormDataType): void => {\r\n        props.addMessageText(data.newMessageText)\r\n    }\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItem}>\r\n                {dialogsElement}\r\n            </div>\r\n            <div className={s.messages}>\r\n                <div>{messagesElement}</div>\r\n                <div className={s.addMessage}>\r\n                </div>\r\n                <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nconst AddMessageForm: React.FC<InjectedFormProps<FormDataType>> = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div className={s.messageInput}>\r\n            <Field component=\"textarea\"\r\n                   placeholder=\"send Message here\"\r\n                   name=\"newMessageText\" />\r\n            <div>\r\n                <button>add message</button>\r\n            </div>\r\n        </div>\r\n    </form>\r\n}\r\nconst AddMessageFormRedux = reduxForm<FormDataType>({form: \"dialogAddMessageForm\"})(AddMessageForm)\r\n\r\nexport default Dialogs;","import {ActionsTypes, DialogType, MessageType} from \"./redux-store\";\r\n\r\nconst ADD_MESSAGE_TEXT = 'ADD-MESSAGE-TEXT';\r\n// const UPDATE_NEW_MESSAGE_TEXT = 'UPDATE-NEW-MESSAGE-TEXT';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Boris'},\r\n        {id: 2, name: 'Olia'},\r\n        {id: 3, name: 'Gleb'},\r\n        {id: 4, name: 'Pasha'},\r\n        {id: 5, name: 'Ania'},\r\n        {id: 6, name: 'Eva'},\r\n        {id: 7, name: 'Nazar'}\r\n    ] as Array<DialogType>,\r\n    messages: [\r\n        {id: 1, message: 'Hello!'},\r\n        {id: 2, message: 'Haw are you?'},\r\n    ] as Array<MessageType>,\r\n    // newMessageText: ''\r\n}\r\n\r\nexport type DlgReducerInitialStateType = typeof initialState;\r\n\r\nconst dialogsReducer = (state: DlgReducerInitialStateType = initialState, action: ActionsTypes): DlgReducerInitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case ADD_MESSAGE_TEXT:\r\n            let newMassage = action.newMessageText\r\n            return {\r\n                ...state,\r\n                // newMessageText: '',\r\n                messages: [...state.messages, {id: 4, message: newMassage}]\r\n            };\r\n        // case UPDATE_NEW_MESSAGE_TEXT:\r\n        //     return {\r\n        //         ...state,\r\n        //         newMessageText: action.newMText\r\n        //     }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addMessageTextAC = (newMessageText: string) =>\r\n    ({type: \"ADD-MESSAGE-TEXT\", newMessageText} as const);\r\n// export const updateNewMessageText = (newMText: string) =>\r\n//     ({type: \"UPDATE-NEW-MESSAGE-TEXT\", newMText: newMText} as const)\r\n\r\nexport default dialogsReducer;","import React, {Component, ComponentType} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {RootReduxState} from \"../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\n\r\ntype MapStatePropsToRediretType = {\r\n    isAuth: boolean\r\n}\r\nconst mapStatePropsForRediret = (state: RootReduxState): MapStatePropsToRediretType => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n\r\n    const RedirectComponent = (props: MapStatePropsToRediretType) => {\r\n        let {isAuth, ...restProps} = props\r\n        if (!isAuth) return <Redirect to='/login'/>\r\n        return <Component {...restProps as T} />\r\n    }\r\n\r\n    let ConnectAuthRedirectComponent = connect(mapStatePropsForRediret)(RedirectComponent)\r\n\r\n    return ConnectAuthRedirectComponent;\r\n}","import React, {ComponentType} from \"react\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {RootReduxState} from \"../../redux/redux-store\";\r\nimport {\r\n    addMessageTextAC,\r\n    DlgReducerInitialStateType,\r\n} from \"../../redux/dialogsReducer\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose, Dispatch} from \"redux\";\r\n\r\ntype MapStateToPropsType = {\r\n    dialogsPage: DlgReducerInitialStateType\r\n}\r\ntype MapDispatchToPropsType = {\r\n    // updateNewMessageText: (newMText: string) => void\r\n    addMessageText: (data: { newMText: string }) => void\r\n    // addMessage: (value: { messageText: string }) => void\r\n}\r\nexport type DialogsPropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\nconst mapStateToProps = (state: RootReduxState): MapStateToPropsType => {\r\n    return {\r\n        dialogsPage: state.dialogsPage\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch: Dispatch) => {\r\n    return {\r\n        addMessageText: (newMText: string) => {  //!!!!!!!!!!!!!!!!!!!!!!!\r\n            dispatch(addMessageTextAC(newMText))\r\n        }\r\n    }\r\n}\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapStateToProps, {mapDispatchToProps}),\r\n    withAuthRedirect\r\n)\r\n(Dialogs);","import React from 'react';\r\nimport axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"d5df1483-fabd-4509-9f07-cc778848b14b\"\r\n    },\r\n\r\n});\r\n\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    }\r\n}\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data)\r\n    },\r\n    unfollow(id: number) {\r\n        return instance.delete(`follow/${id}`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    follow(id: number) {\r\n        return instance.post(`follow/${id}`, {}).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    // getProfile(userId: number) {\r\n    //     console.warn('Obsolete method. Please profileAPI object.')\r\n    //     return profileAPI.getProfile(`profile/` + userId);\r\n    //     }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number | undefined) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId: number | undefined) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put(`profile/status/`, {status: status})\r\n    }\r\n}\r\n\r\n\r\n","import {ActionsTypes} from \"./redux-store\";\r\nimport {usersAPI} from \"../components/api/API\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROCESS = 'TOGGLE_IS_FOLLOWING_PROCESS';\r\n\r\nexport type UsersLocationType = {\r\n    city: string\r\n    country: string\r\n}\r\nexport type UserType = {\r\n    id: number\r\n    photos: { small: string | null, large: string | null }\r\n    followed: boolean\r\n    name: string\r\n    status: string\r\n    location: UsersLocationType\r\n}\r\nexport type InitialStateType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProcess: Array<number>\r\n}\r\n\r\nlet initialState: InitialStateType = {\r\n    users: [],\r\n    pageSize: 100,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProcess: []\r\n}\r\n\r\nexport type UsersReducerInitialStateType = typeof initialState;\r\n\r\nconst usersReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.totalUsersCount}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROCESS: {\r\n            return {\r\n                ...state,\r\n                followingInProcess: action.isFetching\r\n                    ? [...state.followingInProcess, action.userId]\r\n                    : state.followingInProcess.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId: number) => ({type: \"FOLLOW\", userId} as const);\r\nexport const unfollowSuccess = (userId: number) => ({type: \"UNFOLLOW\", userId} as const);\r\nexport const setUsers = (users: Array<UserType>) => ({type: \"SET_USERS\", users} as const);\r\nexport const setCurrentPage = (currentPage: number) => ({type: \"SET_CURRENT_PAGE\", currentPage} as const);\r\nexport const setTotalUsersCount = (totalUsersCount: number) => ({\r\n    type: \"SET_TOTAL_USERS_COUNT\",\r\n    totalUsersCount\r\n} as const);\r\nexport const toggleIsFetching = (isFetching: boolean) => ({type: \"TOGGLE_IS_FETCHING\", isFetching} as const);\r\nexport const toggleIsFollowingProcess = (isFetching: boolean, userId: number) => ({\r\n    type: \"TOGGLE_IS_FOLLOWING_PROCESS\",\r\n    isFetching,\r\n    userId\r\n} as const);\r\n\r\n// Thunk\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number) => {\r\n    return (dispatch: Dispatch<ActionsTypes>) => {\r\n\r\n        dispatch(toggleIsFetching(true));\r\n\r\n        usersAPI.getUsers(currentPage, pageSize).then(data => {\r\n            dispatch(toggleIsFetching(false));\r\n            dispatch(setUsers(data.items));\r\n            dispatch(setTotalUsersCount(data.totalCount));\r\n        })\r\n    }\r\n}\r\n\r\nexport const follow = (userId: number) => {\r\n    return (dispatch: Dispatch<ActionsTypes>) => {\r\n\r\n        dispatch(toggleIsFollowingProcess(true, userId))\r\n        usersAPI.follow(userId).then(response => {\r\n            if (response.resultCode === 0) {\r\n                dispatch(followSuccess(userId))\r\n            }\r\n            dispatch(toggleIsFollowingProcess(false, userId))\r\n        })\r\n    }\r\n}\r\nexport const unfollow = (userId: number) => {\r\n    return (dispatch: Dispatch<ActionsTypes>) => {\r\n\r\n        dispatch(toggleIsFollowingProcess(true, userId))\r\n        usersAPI.unfollow(userId).then(response => {\r\n            if (response.resultCode === 0) {\r\n                dispatch(unfollowSuccess(userId))\r\n            }\r\n            dispatch(toggleIsFollowingProcess(false, userId))\r\n        })\r\n    }\r\n}\r\n\r\nexport default usersReducer;\r\n\r\n\r\n","import React from 'react';\r\nimport styles from './users.module.css';\r\nimport userPhoto from '../../assets/images/photo.png'\r\nimport {UserType} from \"../../redux/usersReducer\";\r\nimport {NavLink} from 'react-router-dom';\r\n\r\ntype PropsType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    users: Array<UserType>\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    followingInProcess: Array<number>\r\n    toggleIsFollowingProcess: (isFetching: boolean, userId: number) => void\r\n}\r\n\r\nconst Users = (props: PropsType) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++)\r\n        pages.push(i);\r\n\r\n    return <div>\r\n        <div>\r\n            {pages.map(p => {\r\n                return <span className={p === props.currentPage ? styles.selectedPage : ''}\r\n                             onClick={() => {\r\n                                 props.onPageChanged(p)\r\n                             }}>{p}</span>\r\n            })}\r\n        </div>\r\n        {props.users.map(u => <div key={u.id}>\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + u.id}>\r\n                        <img src={u.photos?.small ? u.photos?.small : userPhoto} className={styles.usersPhoto}/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {u.followed\r\n                            ? <button disabled={props.followingInProcess.some(id => id === u.id)}\r\n                                      onClick={() => {props.unfollow(u.id)}}>Unfollow</button>\r\n\r\n                            : <button disabled={props.followingInProcess.some(id => id === u.id)}\r\n                                      onClick={() => {props.follow(u.id)}}>Follow</button>\r\n                        }\r\n                    </div>\r\n                </span>\r\n            <span>\r\n                    <span>\r\n                        <div>{u.name}</div>\r\n                        <div>{u.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{\"u.location.country\"}</div>\r\n                        <div>{\"u.location.city\"}</div>\r\n                    </span>\r\n                </span>\r\n        </div>)}\r\n    </div>\r\n}\r\n\r\nexport default Users;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP4AAADGCAMAAADFYc2jAAABIFBMVEX///8AAAD+zbz+zbv/SUv/0L//08H/zb3/1cT/0sD/1sP/0sH/18X+zLz/1sL/1MTs7Oz4+Pijo6Pm5uYkJCTy8vLV1dW0tLSGhobj4+PMzMyPj487OztOTk7Dw8N/f3/Q0NCbm5tCQkIvLy9dXV1KSkqtra0aGhp0dHSvr6/yybd6ZV2ZgXcNDQ1gYGB2dnZEODTbtKfHpZfcsIGFcGdoVk7LqJuzlYkiGxpeT0nkvKzpR0ZpaWk0NDQUFBQGDxSDalxuV0M1HgAXBwCFa1PFo474x6jDnHtXQy1PRkEpIhmmiGeUe1yjh38rJiWPeG9DOzZgVU83LCgmCg1/JyXAOzvMPT9FFRi2NzktDAxxIyddGh+fLzHaQUWQLi0bAQPDEMUYAAARC0lEQVR4nO1d+X/aOBaPUGX5wpCUQEiaBJI2SW3SAgM4uGlmZruzu8wukNLpHHvM/v//xUo24EvgCxNllu+nPzRAeHqW3v2esre3ww477LDDDjvssMMOO+ywBuXq8dnZcbW8JTov86YTH+Xa+0uwxMfzs8N86OyfHV24dCo3Vxw8g/LBKxDCaW1/44TOXofpfGw+7ROo3ofX5OBko0dgv3m7gs7rxibpJEL93SrmKZqbI3Swjs5pdXOEkuBo3aIIKseboVNniJcP7zcvapGoXkcsiuBoE4Sa0XTA2SYIbXpRALzJTmitgG32QcfHSpUXQCWjBty/iKZh43QzfMXDacxFAXCdif/9j7EJXW5NAcTekszLSkKosi3+4+89RYZjGVfEHHzcDv/JFpVBLa019wxsRf6bCRcFQEr7X09M6HyznLJQTbwoANJRqiQnlL/9f0jBfqpdaaYgBHIKNpc4T7MokCIwO0xF6N3mOfYiuTzauE9OKSqiWIENxRkrkMzmuUi8/fspCV3mwfUCjZSLSm78khq9JfLUfmk3H9wmpXQZ/Z1s5Lj9KSWfIuGmpDGvc+Qn/enUvo33ySidpKeUn/JflXCLgUoySklinSDysv1nGdYE6kkopTP6c7zNif0MZx+AWhJKx1kovc6J/RROuItEpi+12bORT+BbzrSmRHtyk4lUPpnvTKIPPiYhldq/sHGQC/sZjBFFElLxU3ws3OTCftIsTwBJJDKDhQUbSa8zkMUWJ2Q/G6XrXNhPk+jwIIk3ko1SPqp/i2vKSCoXv2+L7MeoH65DLj0m2Zb0kIRUVE03Ark0PWRb0qskpBidHEnA4e4nikMzRRc5qb5sAnmShNQVh+y/ybSkROme1DlFGwlzCzGRzetLJI9p87wO8qn1NbMsKWEGMlPMk0+pL1PElzDT3cxCK590T6YMVIPxfS/r1UajUa3Xw15ahpxywrxafGSIefxOz8uz5r0/pq28Pnrry1JkcHzy0XyZTqRr9uoHq3u1Xp00Fh/LYPoS5tRjI8OJnOv96tG35Id2mxHP3xm9777/EwD3Z7bVzqD7c6tzpD6RdoW33KyAT3/+QRc0VekY/g8YHVlWBE37y1//RraPikHKCm9e0T5F6hNZd7qfv/9BExEu4EIBybrnAfQt+nKhUIQFRbP6AFzU0m9/IvcyEdIu6WavSoKYkaXaTM4hdmbOuz92Zc/LGKkmebFSS5tazLHBo5luRZR50BMRLHgAFeHv9M1/SErgDXVAX09ZVci1vSnVimxGWmrBDwyx+M2P4BuB/t/3RlGw0rFOkWt3Ty3tqky5WAhD+uYbCTNeR/pdSjobnCJgIWXYZ8oMJgtFjDBivQHT8p+Xy7NAukqXqbH2fh2QnirXn/tkR5rjP9aYe7ye/zTyn095y4fk/khPxUk3nyhAZZCYUD7VrQCSpj2GIozmloGSmZDQlkYa4s2XLHCNcDr2C6oR/e0e5FPaYyBR+b0jpWOeQJokoJNXUwcDzfirGssswx4PqBOfzhaa2V3ETny15bRHn0KexqWTqHUoOw5jCoCV3OR5gEvxvJ93uU+Oh1CNk/vqMb29+OxL3RhELvNt416F4xXp6FduQ66QXvAdqO0o5i+2PsK5RLkZ6sK5Pqq7isFMr/Xn8Gq/i2YoCK6c5JTWjf0Eaien81VV3hzV6t6w4FYsZNB7NorqyGW2tveydrSkdnpU4+ACA4r9w3L5cFFYdHXCWMi6+ST48/q+L8PUeEPTXW3WrafA8sz9wkRNAk+Cl+5ie6UV/COF6ATPe9B5hQ3J6/pvIaTLBk8+pANZeh8WRGs81j02AWJ1MB3rqx6A7tV1eU+qZYTHHZzJRebuyy3bKGjuK8pn+spgBf9a38N+ipmwbcJjmlpsxaeY4E29cQk6y6y32APn5cYt8RCZj0vxBb5PdFNHPHg70TvsNJ5u1/oPwWSRBkCWHa3VQVtlso99p3+r9xQkhafz84Ht7ZcMZwOboOt8AMuGY9CWrwQhPnr5bzwlf+vhrYL1xRWb7wTm+6C/yPzPd3SfbD/rV4qaL+7jePu9TumYqcmk8aICewqcFD8aLNoxztnSDwNxD7fS78sCsEWfhDDzDx/MP6FMF12YVdBSmKffn/TdSkIzDXzNmDqTE32ZlmkA02ZWHC5HPMFMZSZHkL+ZnFPb7yuB3JWYZ99cNvjtg55tGdHdUppvgM7U/YGol1PXr+ld44hpxYiJX+4dGMr+87BXAwO2xPhTvpx6/r7Y39BY7Mttt/nizYzuPrH6y92sgxZTXwqBlB8nca4fL31LnArhyg6GyOO13gOJeMVE8btpStDXGNwXlLGffS5Pv3/2kLmPZKvd3pNzIumYagM3VXc5YzoLSqDec/EU7EXBn/kzWYV731af2IqOsOYa8nvAlP1QwpPHXAeIZt+31Qe2l0MOtivKR2xziYLVzqfLbq5ENZp9SHh1U5Nvbb9HaHmavckTYdr9IPtbvp8uDg6C7DMYISrc9VlqDvvhl6LZ51D4b+Kw/51HbBnsn7ENPwoVO56CwfUI5OCZml80PAtnss+MeYOaP7em7QwILJBl92EU+8ds9qVxkH3udF+w39lg1Lf87C9VX+ThD3p9ufevJUdw+mjEKm7KPY/sX4UN3wr25VCbx1ar+XEQ7Pi6Y7Q1YN9WNxfsu4J8xdb86mOQ/S22csRD6LoNne32uC4ew+s7ARaD+4IUqvJzF/SFGrBZjQ3Ee3WU1gEJfRyfnxi14/I1aNgvv2cH/Hrwu3Pv3kyMULufyWB/Ed3Si2lqN3ayj7g0ZzRasHXCxR1LYzBafPKbWUiJ98EVTsOxK4a6k6mjlbCL+x/n8b795GxdDoasiE8I2b1k8+DbQKjXZ8TKWpdm9Ng6mYHbdsk52Xb3Lr3ZpQ5aSvjwQ7Uf/G5wy1vMF251YnBfEHo0wHnrfKBvn3Q0710uU43AtHuM9j7u2A/PnLNsGJH0q+Vnp3aqU5jX789oYwQr0Q0Zzc3cHf5wp3OL1dck0VM+T4g7iW5t6Px0RWTCYIl+2OPnUPWFJ48eRRgWZOK/Vhc9AM7xWHi0TXIomE6PFhb9fK/kTAPGLWPMzI1OgvVT7/uLaPagzNaWEIW/mb+AnzHmYDIkuSi2wJWjJtuqIEiKIM6dmtop2+ULB/sg9/t4k4Nx4cKQkbWGtGTj9H5NhrPJ3afJbN659gqMFVYzjMhqa+cu2+XP8g+n41YfWCx21PluT9rtoY1223HpRyUxLPqwgOiXTYd+9vnL9LtrezB1URAEVQ8JfxHKlgHaPbOjI0kW51AkaA1M4w70OyrRlgF9qetESAQZmV7rz126w71Z11CYs3kEWNOHk7GuCRIKcokUUbZatyNrVRcwFLxJD/6SXQun32QXqSlkczJQlQIuQFjESJEEQVRFQUGogOnvYEHt3raYZa5CERex6CrBp2Y2jKsF96uYx0Kvp877eZAgWt2WQUXfaJmWJs5bACXZ+Ly6E3bJ/9bGduLDKXNMNbhyaA1ac86Q1pn6/Pi7XkekmWFyKEqdNT3w2jz2y29IPT1s7c0sUboPAFP1pw5GIIR2V6QjXxCuHf+Q7QbInK+hTwc632YVIucXJJ3hxNqPzlKipx0dq8lbvEdBhH/KsNwBKGums7qRoy/Qjn+47G07XNXO5IW2djS1y2wI8rKPhDsaHHKIOphG7R5mxe5eRM880orP9ue2YuAkemoNKqGMvR/X0XNvOo9mj+ByEjWrDFmZCz+i51/UEYdOD+3T+27V9MYSpYjNJ4EQu6/TA6HFoctL3R5mP4sXOFyvCCFSgJTBtidWY2FFedKLOCPJK5raPc/Q4q++uxdqTIEYIkUQNAXB5UxLqEmFAfcI4SKEEgmLBAV6gyik85fs2AuxjyVh0DIMEtoryxgOx7iPw919YuMtc0q/wvLd/cEn+77Dj6HYXQY1bpt6HNlf7jTq3oHrySX9mr7lGgRocRnxVD2pTYjFHph8Bl1JQrrVWTAExRXuvou2GzNhq6MLskgMnUEOxTKOJgqER69vH/SWLmtRM4Cp6aCtYhrcu8c5Uvi7rtuHyS/igjQAPU1vuRcf+VojOUJlps21VrE0vtYVLE5Bl5YsPXoravtHPq+nSBPDM6AjqOiVxZif1uNznuFoabPJ+ZSICGMB3AZ9eLT+OgY9OMwjjEHLlgfpcR5Ple4S/ZmPraEBxgvhtyxEdg6Tc9oL5D+Qvu6ua0sJ5AuQBWZ2IgwX5nlj8mh51HwE13dBh10dgm7gNaQzUj0O2qExXiTNAm5gkehUHn3ePVrm6wY8dqjbO+oD1sLNGjZaQjBkwERVmP7HR/xmLpMde1T3zwT/4YVKB9z55ZmcZEFvha9j6+kiDuT+sWoE7z6BpRaHJY45DsheBaIewQQzKejGY0HqGh4deGt0kRzOEBMd3w/ccoh1/oq7LirBdFcRiyaY6CH+iUss6gNz3GqNzYEui6ziptoHQzFQMpH7oPHUTK5GA4xU7L+0ANKL12jpKswgUiSF/GOHeJL+CIxggwTq8jvDSXFErHSQHbkbJ4cb/KXOLWipgUdGNSmPOW4Xr8Ag0JsGC4L1AHqB6zrWAipCizyywN7jgjzi0991ccjK1yDUB5OBFl0CmbMpDmZgpAedCCj3ePV4XFSDls4GUYDA0NdXwJafpWWgcQkFHlaR+Avc9bSEcUY0fbilyy7uTCUhaNsDG1xAot4jn+yEE76yyV8fNws1hqUjRtxuTpjq65LhUKLNH/RjWkhOyPm55FvtLVADD7oUPABYcfwcoyMLGPu5o/0OxNQJiunEAxMh8IEiVp8N9/YtDp2gw0LzFg5mLUsU/I4wcQFU1F22cAW7GzGUW+Djc+He7nILd3mobnfWbGq7eghRqyAJJcUyPa1bRtBJQIoB3jwf7vf2yhUS6c/PP8S6cyWJP9HZ7pkDS9etjjkd+S+nsP1AqC/PAHUAuXb2wth/TcN37Bzdjj2jgrXWqkjfhy6d/4TS50X4QK/r57GwsR5N+14uXCRqTeo8EFeQRLpx7t3t06gBC32be1hE6pTPZpYoVK/BZ92Z5BW6E1vO41y7TY0mFoaWneLCsjUDp1ymNqNxTg5AiYo9EluPAh1Lib522h59Fj53JPsvmCgtHhtY46JRAY8dlXZwysZQwxAub93/9OW/C4Z/+vrhw4evP32yfxjS6z3FYVeg1lAdTMAFp5m9eCAawLCopye3+1qx6FxD8fvPH168ePHh59/JI/jlxQK//kaPPv1on7Z2YpH+iRoeCzpJUL6383gQS6BH9l/rg3++cPH1N/DLh+VPv9FkGVb7Q23+h3veP1Op96L6hj4ATbDAlMgBugUfPPy/+M+/Pi3++29gqJDoh9sSUmngc/qsz72LBnkA/Q6x3y2RFi6++Ph3Dz+tb1LtqKsdcuxPub2ZLTmq74ina05pKkwwPfLuwc8kUMKQuLemOQPg3R+IeYryiV3dmsqQOH8M/n8F31oQoiGd6Xw44fJaqow4vrml8Qwm4duX/wS4/wncWRLSaefXDbd1jMyo3hOnFtLU1+9e5r9+AUMdIX0CjhpPvcR8cU+z9yVrZLs7L5bm3yxBhfhEPLasbRb39C/VIF9Pf2UsKAWhw+OE0uZxDh51ROy7bk77w2G/Z1qqVChoJtd30G4QTXDbkWkcLMiqqgoKxlCSDHD9B/FyInFm+8EFJxtErJ0idq/B/XPKZmVDmXhBvY6mKgKdZdOpn/PHV3peHF8Q76Y/HY+nBk0BHfz/bP0c9ZP5X7GonD/HXNYmcFivczmYssMOO+ywww477LDDDjvssMMOO+yww3PG/wDjC5G7bmM5ZgAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/explosionPreloader.d0548f55.gif\";","import React from 'react';\r\nimport explosionPreloader from \"../../../assets/images/explosionPreloader.gif\";\r\n\r\nexport const Preloader = () => {\r\n    return <img src={explosionPreloader} />\r\n}","import React, {ComponentType} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow,\r\n    setCurrentPage,\r\n    unfollow,\r\n    UserType, toggleIsFollowingProcess, getUsers\r\n} from \"../../redux/usersReducer\";\r\nimport {RootReduxState} from \"../../redux/redux-store\";\r\nimport Users from \"./Users\";\r\nimport {Preloader} from \"../common/Preloader/Preloader\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\ntype MapStateToPropsType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProcess: Array<number>\r\n}\r\ntype MapDispatchToPropsType = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    // setUsers: (users: Array<UserType>) => void\r\n    setCurrentPage: (currentPage: number) => void\r\n    // setTotalUsersCount: (totalCount: number) => void\r\n    // toggleIsFetching: (isFetching: boolean) => void\r\n    toggleIsFollowingProcess: (isFetching: boolean, userId: number) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n}\r\n\r\nexport type UserPropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\n\r\nclass UsersContainer extends React.Component<UserPropsType> {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n        return this.props.isFetching ? <Preloader/> : <Users totalUsersCount={this.props.totalUsersCount}\r\n                                                             pageSize={this.props.pageSize}\r\n                                                             currentPage={this.props.currentPage}\r\n                                                             onPageChanged={this.onPageChanged}\r\n                                                             users={this.props.users}\r\n                                                             follow={this.props.follow}\r\n                                                             unfollow={this.props.unfollow}\r\n                                                             followingInProcess={this.props.followingInProcess}\r\n                                                             toggleIsFollowingProcess={this.props.toggleIsFollowingProcess}\r\n        />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: RootReduxState): MapStateToPropsType => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProcess: state.usersPage.followingInProcess,\r\n    }\r\n}\r\n\r\n// let AuthRedirectComponent = withAuthRedirect(UsersContainer);\r\n//\r\n// export const connect(mapStateToProps, {\r\n//     follow, unfollow, setCurrentPage, toggleIsFollowingProcess, getUsers\r\n// })(AuthRedirectComponent);\r\n\r\nexport default compose<ComponentType> (\r\n    connect(mapStateToProps, {follow, unfollow, setCurrentPage, toggleIsFollowingProcess, getUsers}),\r\n    withAuthRedirect\r\n)\r\n(UsersContainer);","import React, {ChangeEvent} from 'react';\r\nimport s from './ProfileInfo.module.css';\r\n\r\ntype ProfileStatusType = {\r\n    status: string\r\n    // updateStatus: (status: string) => void\r\n}\r\n\r\nclass ProfileStatus extends React.Component<ProfileStatusType> {\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    }\r\n\r\n    activateEditMode = () => {\r\n        this.setState({\r\n            editMode: true\r\n        })\r\n    }\r\n    deactivateEditMode() {      // => bind(this)\r\n        this.setState({\r\n            editMode: false\r\n        });\r\n        // this.props.updateStatus(this.state.status)\r\n    }\r\n    onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({\r\n            status: e.currentTarget.value\r\n        })\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<ProfileStatusType>, prevState: Readonly<{}>, snapshot?: any) {\r\n        if(prevProps.status !== this.props.status) {\r\n            this.setState({\r\n                status: this.props.status\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {!this.state.editMode\r\n                ? <div>\r\n                    <span onDoubleClick={this.activateEditMode}>{this.props.status || \"-----\"}</span>\r\n                </div>\r\n                : <div>\r\n                    <input autoFocus={true}\r\n                           onBlur={this.deactivateEditMode.bind(this)}\r\n                           onChange={this.onStatusChange}\r\n                           value={this.props.status}/>\r\n                </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProfileStatus;","import React from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport {Preloader} from \"../../common/Preloader/Preloader\";\r\nimport {ProfileType} from \"../../../redux/profileReducer\";\r\nimport ProfileStatus from \"./ProfileStatus\";\r\n\r\ntype ProfileInfoType = {\r\n    profile: ProfileType | null\r\n    status: string\r\n    // updateStatus: (status: string) => void\r\n}\r\n\r\nconst ProfileInfo = (props: ProfileInfoType) => {\r\n    if(!props.profile) {\r\n        return <Preloader />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.photoFullName}>{props.profile.fullName}</div>\r\n            <div className={s.avaDiscr}>\r\n                <img src={props.profile.photos.small}/>\r\n                <ProfileStatus status={props.status}\r\n                               // updateStatus={props.updateStatus}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Post.module.css';\r\nimport {PostType} from \"../../../../redux/redux-store\";\r\n\r\nconst Post: React.FC<PostType> = (props) => {\r\n    return (\r\n            <div className={s.item}>\r\n                <img src='https://vjoy.cc/wp-content/uploads/2019/07/3-38.jpg'/>\r\n                { props.message }\r\n                    <div>\r\n                        <span>like</span> {props.likes}\r\n                    </div>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport s from './MyPost.module.css';\r\nimport Post from \"./Post/Post\";\r\nimport {MyPostPropsType} from \"./MyPostContainer\";\r\nimport {InjectedFormProps, Field, reduxForm} from \"redux-form\";\r\n\r\n\r\nconst MyPost = (props: MyPostPropsType) => {\r\n    let lockalState = props.profilePage\r\n    let postsElement = lockalState.posts.map(p => <Post message={p.message} likes={p.likes}/>)\r\n\r\n    // let newPostText = lockalState.newPostText\r\n\r\n    const addNewPost = (data: FormDataType) => {\r\n        props.addPost(data.newPostText)\r\n    }\r\n    // const onPostChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\r\n    //     let newText = e.currentTarget.value;\r\n    //     props.updateNewPostText(newText)\r\n    // }\r\n\r\n    return (\r\n        <div className={s.myPost}>\r\n            <h3>My posts</h3>\r\n            <AddPostFormRedux onSubmit={addNewPost}/>\r\n            <div className={s.posts}>\r\n                {postsElement}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\ntype FormDataType = {\r\n    newPostText: string\r\n}\r\n\r\nconst AddPostForm: React.FC<InjectedFormProps<FormDataType>> = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n            <Field component=\"textarea\"\r\n                   placeholder=\"send Post here\"\r\n                   name=\"newPostText\"/>\r\n        </div>\r\n        <div>\r\n            <button>Add post</button>\r\n        </div>\r\n    </form>\r\n\r\n}\r\nconst AddPostFormRedux = reduxForm<FormDataType>({form: \"addPostForm\"})(AddPostForm)\r\n\r\n\r\nexport default MyPost;","import {ActionsTypes, PostType} from \"./redux-store\";\r\nimport {profileAPI} from \"../components/api/API\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst ADD_POST = 'ADD_POST';\r\n// const UPDATE_NEW_POST_TEXT = 'UPDATE_NEW_POST_TEXT';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\n\r\n\r\nexport type PostsType = {\r\n    id: string\r\n    likes: number\r\n    content: string | number\r\n}\r\nexport type ProfilePageType = {\r\n    posts: Array<PostType>\r\n    newPostText: string\r\n    profile: ProfileType\r\n    status: string\r\n}\r\nexport type ProfileType = {\r\n    aboutMe: string | null\r\n    contacts: userProfileContactsType\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string | null\r\n    fullName: string | null\r\n    userId: number | null\r\n    photos: PhotosType\r\n}\r\n\r\nexport type ContactsType = {\r\n    github: string | null\r\n    vk: string | null\r\n    facebook: string | null\r\n    instagram: string | null\r\n    twitter: string | null\r\n    website: string | null\r\n    youtube: string | null\r\n    mainLink: string | null\r\n}\r\ntype userProfileContactsType = {\r\n    facebook: string | null\r\n    website: string | null\r\n    vk: string | null\r\n    twitter: string | null\r\n    instagram: string | null\r\n    youtube: string | null\r\n    \"github\": string | null\r\n    mainLink: string | null\r\n}\r\nexport type PhotosType = { small: string, large: string }\r\n\r\n\r\nlet initialState: ProfilePageType = {\r\n    posts: [\r\n        {id: 1, message: 'Hallo, haw are you?', likes: 43},\r\n        {id: 2, message: 'My first post', likes: 52},\r\n    ] as Array<PostType>,\r\n    newPostText: '',\r\n    profile: {\r\n        aboutMe: null,\r\n        contacts: {\r\n            facebook: null,\r\n            website: null,\r\n            vk: null,\r\n            twitter: null,\r\n            instagram: null,\r\n            youtube: null,\r\n            github: null,\r\n            mainLink: null\r\n        },\r\n        lookingForAJob: true,\r\n        lookingForAJobDescription: null,\r\n        fullName: null,\r\n        userId: null,\r\n        photos: {\r\n            small: '',\r\n            large: ''\r\n        }\r\n    },\r\n    status: \"\"\r\n}\r\n\r\nexport type PrfReducerInitialStateType = typeof initialState;\r\n\r\nconst profileReducer = (state: PrfReducerInitialStateType = initialState, action: ActionsTypes): PrfReducerInitialStateType => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            const newPost = {\r\n                id: new Date().getTime(),\r\n                message: action.newPostText,\r\n                likes: 0,\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            }\r\n        }\r\n        // case UPDATE_NEW_POST_TEXT: {\r\n        //     return {\r\n        //         ...state,\r\n        //         newPostText: action.newText\r\n        //     }\r\n        // }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostAC = (newPostText: any) => ({type: \"ADD_POST\", newPostText} as const);     //!!!!!!!!!!!!!!\r\n// export const updateNewPostText = (newText: string) =>\r\n//     ({type: \"UPDATE_NEW_POST_TEXT\", newText: newText} as const);\r\nexport const setUsersProfile = (profile: ProfileType) => ({type: \"SET_USER_PROFILE\", profile} as const);\r\nexport const setStatus = (status: string) => ({type: \"SET_STATUS\", status} as const);\r\n\r\n// Thunk\r\n\r\nexport const getUsersProfile = (userId: number) => (dispatch: Dispatch<ActionsTypes>) => {\r\n    profileAPI.getProfile(userId).then(response => {\r\n        dispatch(setUsersProfile(response.data));\r\n    })\r\n};\r\nexport const getStatus = (userId: number) => (dispatch: Dispatch<ActionsTypes>) => {\r\n    profileAPI.getStatus(userId).then(response => {\r\n        dispatch(setStatus(response.data));\r\n    })\r\n};\r\nexport const updateStatus = (status: string) => (dispatch: Dispatch<ActionsTypes>) => {\r\n    profileAPI.updateStatus(status).then(response => {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setStatus(status));\r\n        }\r\n    })\r\n};\r\n\r\nexport default profileReducer;\r\n\r\n\r\n","import React from 'react';\nimport MyPost from \"./MyPost\";\nimport { RootReduxState} from \"../../../redux/redux-store\";\nimport {connect} from \"react-redux\";\nimport {addPostAC, PrfReducerInitialStateType} from \"../../../redux/profileReducer\";\nimport {Dispatch} from \"redux\";\n\n\ntype MapStateToPropsType = {\n    profilePage: PrfReducerInitialStateType\n}\ntype MapDispatchToPropsType = {\n    addPost: (newPostText: string) => void\n    // updateNewPostText: (postText: string) => void\n}\nexport type MyPostPropsType = MapStateToPropsType & MapDispatchToPropsType\n\nconst mapStateToProps = (state: RootReduxState): MapStateToPropsType => {\n    return {\n        profilePage: state.profilePage\n    }\n}\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n    return {\n        addPost: (newPostText: string) => {\n            dispatch(addPostAC(newPostText))\n        }\n    }\n}\n\nconst MyPostContainer = connect(mapStateToProps, mapDispatchToProps)(MyPost);\n\n\nexport default MyPostContainer;","import React from 'react';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostContainer from \"./MyPost/MyPostContainer\";\r\nimport {ProfilePageType, ProfileType} from \"../../redux/profileReducer\";\r\n\r\ntype ProfilePropsType = {\r\n    profile: ProfileType | null\r\n    status: string\r\n    // updateStatus: (status: string) => void\r\n}\r\n\r\nconst Profile: React.FC<ProfilePropsType> = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile}\r\n                         status={props.status}\r\n                         // updateStatus={props.updateStatus}\r\n            />\r\n            <MyPostContainer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React, {ComponentType} from 'react';\r\nimport Profile from './Profile';\r\nimport {connect} from \"react-redux\";\r\nimport {RootReduxState} from \"../../redux/redux-store\";\r\nimport {getStatus, getUsersProfile, ProfileType} from \"../../redux/profileReducer\";\r\nimport {RouteComponentProps, withRouter} from 'react-router-dom';\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\ntype PathPropsType = {\r\n    userId: string\r\n}\r\ntype MapStatePropsType = {\r\n    profile: ProfileType\r\n    status: string\r\n}\r\ntype MapDispatchToPropsType = {\r\n    getUsersProfile: (userId: number) => void\r\n    getStatus: (userId: number) => void\r\n    // updateStatus: (status: string) => void\r\n}\r\n\r\ntype OwnPropsType = MapStatePropsType & MapDispatchToPropsType\r\ntype PropsType = RouteComponentProps<PathPropsType> & OwnPropsType\r\n\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n\r\n    componentDidMount() {\r\n        let userId = +this.props.match.params.userId; // Number(this.props.match.params.userId)\r\n        if (!userId) {\r\n            userId = 2;\r\n        }\r\n        this.props.getUsersProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Profile {...this.props} profile={this.props.profile}\r\n                         status={this.props.status}\r\n                         // updateStatus={this.props.updateStatus}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: RootReduxState): MapStatePropsType => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n    }\r\n}\r\n// let AuthRedirectComponent = withAuthRedirect(ProfileContainer);\r\n// let WithUrlDataContainerComponent = withRouter(withAuthRedirect(ProfileContainer));\r\n// export const connect(mapStateToProps, {getUsersProfile})(withRouter(withAuthRedirect(ProfileContainer)))\r\n\r\nexport default compose<ComponentType> (\r\n    connect(mapStateToProps, {getUsersProfile, getStatus}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)\r\n(ProfileContainer);\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Header.module.css';\r\nimport {HeaderContainerPropsType} from \"./HeaderContainer\";\r\n\r\ntype HeaderPropsType = {\r\n    id: number | null\r\n    login: string | null\r\n    email: string | null\r\n    isAuth: boolean | null\r\n}\r\n\r\nconst Header = (props: HeaderContainerPropsType) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img\r\n                src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ_Q8EiXvfHSAAHT5PjhNkHC3nKICKfTNWDCw&usqp=CAU'/>\r\n                <div className={s.loginBlock}>\r\n                    { props.isAuth ? props.state.login : <NavLink to={'/login'}>log in</NavLink>}\r\n                </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import {authAPI} from \"../components/api/API\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst SET_DATA_AUTH_STATE = 'SET_DATA_AUTH_STATE';\r\n\r\nexport type DataUserType = {\r\n    id: number | null\r\n    login: string | null\r\n    email: string | null\r\n    // isFetching: boolean\r\n}\r\ntype InitialStateType = {\r\n    dataUser: DataUserType\r\n    isAuth: boolean\r\n}\r\n\r\nlet initialState: InitialStateType  = {\r\n    dataUser: {} as DataUserType,\r\n    isAuth: false,\r\n}\r\n\r\n// export type InitialStateType = typeof initialState;\r\ntype ActionsType = SetAuthUserDataActionType\r\ntype SetAuthUserDataActionType = ReturnType<typeof setAuthUserData>\r\n\r\nconst authReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_DATA_AUTH_STATE:\r\n            return {\r\n                ...state,\r\n                dataUser: {...state.dataUser, ...action.data},\r\n                isAuth: true\r\n            }\r\n        default:\r\n            return state;\r\n    }}\r\n\r\nexport const setAuthUserData = (data: DataUserType) => ({type: \"SET_DATA_AUTH_STATE\", data} as const);\r\n// Thunk\r\n\r\nexport const getAuthUserDataTh = () => (dispatch: Dispatch<ActionsType>) => {\r\n\r\n        authAPI.me().then(response => {\r\n            // this.props.toggleIsFetching(false);\r\n            if (response.data.resultCode === 0) {\r\n                // let {id, login, email} = response.data.data\r\n                dispatch(setAuthUserData(response.data.data));\r\n            }\r\n        })\r\n    }\r\n\r\nexport default authReducer;\r\n\r\n\r\n","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {RootReduxState} from \"../../redux/redux-store\";\r\nimport {DataUserType, getAuthUserDataTh} from \"../../redux/authReducer\";\r\n\r\ntype MSTPType = {\r\n    state: DataUserType\r\n    isAuth: boolean\r\n    currentPage: number\r\n    pageSize: number\r\n    // isFetching: boolean\r\n}\r\ntype MDTPType = {\r\n    // setAuthUserData: (data: DataUserType) => void\r\n    getAuthUserDataTh: () => void\r\n    // toggleIsFetching: (isFetching: boolean) => void\r\n}\r\n\r\nexport type HeaderContainerPropsType = MSTPType & MDTPType\r\n\r\nclass HeaderContainer extends React.Component<HeaderContainerPropsType> {\r\n\r\n    componentDidMount() {\r\n        this.props.getAuthUserDataTh()\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            <Header  {...this.props} />\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: RootReduxState): MSTPType => {\r\n    return {\r\n        state: state.auth.dataUser,\r\n        isAuth: state.auth.isAuth,\r\n        currentPage: state.usersPage.currentPage,\r\n        pageSize: state.usersPage.pageSize\r\n        // login: state.auth.login,\r\n        // email: state.auth.email\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {getAuthUserDataTh})(HeaderContainer);","import React from 'react';\r\nimport {InjectedFormProps, reduxForm, Field} from \"redux-form\";\r\n\r\ntype FormDataType = {\r\n    login: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType>> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder=\"Login\" name=\"login\" component=\"input\"/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder=\"Password\" name=\"password\" component=\"input\"/>\r\n            </div>\r\n            <div>\r\n                <Field type=\"checkbox\" name=\"rememberMe\" component=\"input\"/> remember me\r\n            </div>\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType>({form: 'login'})(LoginForm)\r\n\r\nconst Login = () => {\r\n    const onSubmit = (formData: FormDataType) => {}\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n}\r\n\r\nexport default Login;","import React from 'react';\nimport './App.css';\nimport Dialogs from './components/Dialogs/Dialogs';\nimport Header from \"./components/Header/Header\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport Profile from \"./components/Profile/Profile\";\nimport {BrowserRouter, Route} from 'react-router-dom';\nimport {ActionsTypes, MessageType, PostType, ProfilePageType, RootStateType, RootReduxState} from \"./redux/redux-store\";\nimport {Settings} from \"./components/Settings/Settings\";\nimport {Music} from './components/Music/Music';\nimport {News} from \"./components/News/News\";\nimport {Sidebar} from './components/Sidebar/Sidebar';\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\nimport UsersContainer from './components/Users/UsersContainer';\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from './components/Login/Login';\n\nexport type AppType = {\n    // state: RootStateType\n    // dispatch: (action: ActionsTypes) => void\n    // store: StoreType\n}\n\nconst App: React.FC<AppType> = (props) => {\n\n    return (\n        <BrowserRouter>\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n                    <Route path='/profile/:userId?' render={() => <ProfileContainer />}/>\n                    <Route path='/dialogs' render={() => <DialogsContainer/>}/>\n                    <Route path='/users' render={() => <UsersContainer />}/>\n                    <Route path='/music' render={() => <Music/>}/>\n                    <Route path='/news' render={() => <News/>}/>\n                    <Route path='/settings' render={() => <Settings/>}/>\n                    <Route path='/sidebar' render={() => <Sidebar/>}/>\n                    <Route path='/login' render={() => <Login/>}/>\n                </div>\n            </div>\n        </BrowserRouter>)\n}\n\nexport default App;\n","import {ActionsTypes} from \"./redux-store\";\r\n\r\nlet initialState = {}\r\n\r\nexport type SdbReducerInitialStateType = typeof initialState;\r\n\r\nconst sidebarReducer = (state = initialState, action: ActionsTypes): SdbReducerInitialStateType => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer, {addPostAC, setStatus, setUsersProfile} from \"./profileReducer\";\r\nimport dialogsReducer, {addMessageTextAC} from \"./dialogsReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport usersReducer, {\r\n    setCurrentPage,\r\n    setUsers,\r\n    setTotalUsersCount,\r\n    toggleIsFetching,\r\n    toggleIsFollowingProcess, followSuccess, unfollowSuccess\r\n} from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\n\r\nexport type PostType = {\r\n    id?: number\r\n    message: string\r\n    likes: number\r\n}\r\nexport type ProfilePageType = {\r\n    posts: Array<PostType>\r\n    newPostElement?: string\r\n    addPostCallback?: (postText: string) => void\r\n    newPostText: string\r\n}\r\nexport type DialogType = {\r\n    id: number\r\n    name: string\r\n}\r\nexport type MessageType = {\r\n    id?: number\r\n    message: string\r\n}\r\nexport type DialogsPageType = {\r\n    dialogs: Array<DialogType>\r\n    messages: Array<MessageType>\r\n    newMessageText: string\r\n}\r\nexport type SidebarType = {}\r\n\r\nexport type RootStateType = {\r\n    profilePage: ProfilePageType\r\n    dialogsPage: DialogsPageType\r\n    sidebar: SidebarType\r\n    // usersPage: UserType\r\n}\r\n\r\nexport type ActionsTypes = (\r\n    ReturnType<typeof addPostAC> |\r\n    // ReturnType<typeof updateNewPostText> |\r\n    ReturnType<typeof addMessageTextAC> |\r\n    // ReturnType<typeof updateNewMessageText> |\r\n    ReturnType<typeof followSuccess> |\r\n    ReturnType<typeof unfollowSuccess> |\r\n    ReturnType<typeof setUsers> |\r\n    ReturnType<typeof setCurrentPage> |\r\n    ReturnType<typeof setTotalUsersCount> |\r\n    ReturnType<typeof toggleIsFetching> |\r\n    ReturnType<typeof setUsersProfile> |\r\n    ReturnType<typeof toggleIsFollowingProcess> |\r\n    ReturnType<typeof setStatus>\r\n    );\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer\r\n})\r\n\r\nexport type RootReduxState = ReturnType<typeof reducers>\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;","import React from 'react';\nimport './index.css';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport store from \"./redux/redux-store\";\nimport {Provider} from \"react-redux\";\n\n// export let renderEntereTree = () => {\nReactDOM.render(\n        <Provider store={store}>\n            <App/>\n        </Provider>,\n    document.getElementById('root'));\n// }\n// renderEntereTree();\n// store.subscribe(() => {\n//     renderEntereTree()\n// })\n\n// serviceWorker.unregister();\n\n// yarn add react-redux\n// yarn add @types/react-redux\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"users_usersPhoto__JoD12\",\"selectedPage\":\"users_selectedPage__36Vs2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileImg\":\"ProfileInfo_profileImg__oUaGQ\",\"avaDiscr\":\"ProfileInfo_avaDiscr__2kYH0\",\"photoFullName\":\"ProfileInfo_photoFullName__Vfg92\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPost\":\"MyPost_myPost__B0LN6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3MUjl\",\"loginBlock\":\"Header_loginBlock__1-r8A\"};"],"sourceRoot":""}